# Операционные системы

Литература

- Э. Таненбаум Современные операционные системы.
- Олифер В.Г., Олифер Н.А. Сетевые операционные системы
- Робачевский А.М. Операционная система Unix.
- [Линус Торвальдс, Дэвид Даймонд. Just for fun](http://www.lib.ru/LINUXGUIDE/torvalds_jast_for_fun.txt_with-big-pictures.html)

## Лекция 1

Операционная система - ОС (англ. operating system, OS) -- комплекс взаимосвязанных программ, предназначенных для:

- управления ресурсами компьютера
- организации взаимодействия с пользователем

### ОС - назначение

основные аспекты

- управление устройствами,
- управление вычислительными процессами,
- распределение вычислительных ресурсов между вычислительными процессами
- организация надёжных вычислений.

### Логическая структура ОС

![операционная система в многоуровневой структуре компьютера](img-os-1.png)

операционная система в многоуровневой структуре компьютера

### Функции ОС

Основные функции

- Исполнение запросов программ
- Загрузка программ в оперативную память и их выполнение
- Стандартизованный доступ к периферийным устройствам
- Управление оперативной памятью
- Управление доступом к данным на различных носителях
- Обеспечение пользовательского интерфейса
- Сохранение информации об ошибках системы

Дополнительные функции

- Параллельное или псевдопараллельное выполнение задач (многозадачность)
- Эффективное распределение ресурсов вычислительной системы между процессами
- Разграничение доступа различных процессов к ресурсам
- Организация надёжных вычислений основанная на разграничении доступа к ресурсам
- Взаимодействие между процессами: обмен данными, взаимная синхронизация
- Защита самой системы, а также пользовательских данных и программ от действий пользователей или приложений
- Многопользовательский режим работы и разграничение прав доступа

### Современные универсальные ОС

Характеристики ОС

- использующие файловые системы (с универсальным механизмом доступа к данным),
- многопользовательские (с разделением полномочий),
- многозадачные (с разделением времени).

### Необходимость ОС

Условие 1

- вычислительная система используется для различных задач, причём программы, решающие эти задачи, нуждаются в сохранении данных и обмене ими

Следовательно

- необходим универсальный механизм сохранения данных = файловая система
- необходима возможность перенаправления вывода одной программы на ввод другой

Условие 2

- различные программы нуждаются в выполнении одних и тех же рутинных действий 

Следовательно 

- операционные системы предоставляют системные библиотеки часто используемых подпрограмм (функций)

Условие 3

- между программами и пользователями системы необходимо распределять полномочия

Следовательно

- пользователи должны иметь возможность защищать свои данные от несанкционированного доступа
- возможные ошибки в программе не должны вызывать тотальных неприятностей

Условие 4

- необходима возможность имитации "одновременного" исполнения нескольких программ на одном компьютере (даже содержащем лишь один процессор)

Следовательно

- специальный компонент, называемый планировщиком, делит процессорное время на короткие отрезки и предоставляет их поочерёдно различным исполняющимся программам (процессам)

Условие 5

- оператор должен иметь возможность управлять процессами выполнения отдельных программ

Следовательно

- необходимы операционные среды - оболочка и наборы утилит - они могут являться частью операционной системы

В некоторых приложениях операционные системы излишни

- встроенные микрокомпьютеры
- простые игровые приставки

Примеры

- бытовые приборы
- автомобили
- сотовые телефоны

### Состав операционной системы

Ядро

- планировщик
- драйверы устройств
- файловая система
- сетевая подсистема

Системные библиотеки

- Статические библиотеки (*.lib - Windows, *.a - Linux)
- Динамические библиотеки (*.dll - Windows, *.so - Linux)

Оболочка с утилитами

- Оболочка - интерпретатор команд ОС, обеспечивающий интерфейс для взаимодействия пользователя с функциями системы
- Утилита - вспомогательная компьютерная программа в составе общего программного обеспечения

### Режимы работы процессора

Непривилегированный ("пользовательский") режим

- Большинство программ, как системных так и прикладных, получают доступ к оборудованию (и, при необходимости, к другим ресурсам ядра, а также ресурсам иных программ) только посредством системных вызовов

Привилегированный режим

- Исполняется ядро

### Ядро операционной системы

Ядро - центральная часть операционной системы

- управляющая выполнением процессов
- ресурсами вычислительной системы
- предоставляющая процессам координированный доступ к этим ресурсам

Основные ресурсы

- процессорное время
- память
- устройства ввода-вывода

Дополнительные ресурсы

- доступ к файловой системе
- сетевое взаимодействие

### Объекты ядра ОС

Типы объектов - 1

- Процессы - совокупность взаимосвязанных и взаимодействующих действий, преобразующих входящие данные в исходящие
- Файлы - блок информации на внешнем запоминающем устройстве компьютера, имеющий определённое логическое представление, соответствующие ему операции чтения-записи и, как правило, фиксированное имя, позволяющее получить доступ к этому файлу и отличить его от других файлов
- События - объект, хранящий в себе 1 бит информации "просигнализирован или нет", над которым определены операции "просигнализировать", "сбросить в непросигнализированное состояние" и "ожидать"
- Потоки - объекты, позволяющие разделить процесс, порождённый в операционной системе, на несколько частей, выполняющихся "параллельно", то есть без предписанного порядка во времени.

Типы объектов - 2

- Семафоры - объект, позволяющий войти в заданный участок кода не более чем n потокам
- Мьютексы - (взаимоисключения) - это объект синхронизации, который устанавливается в особое сигнальное состояние, когда не занят каким-либо потоком
- Каналы - средства для осуществления взаимодействия между процессами
- Файлы, проецируемые в память - это такой способ работы с файлами, при котором файлу ставится в соответствие определённый участок памяти

### Эволюция ОС

Основные идеи

- Предшественники ОС
- Пакетный режим
- Разделение времени и многозадачность
- Разделение полномочий
- Реальный масштаб времени
- Файловые системы

### Предшественники ОС (конец 1940-х годов)

Загрузчики

- загрузка программ

Мониторы

- отслеживание выполнения программ

Библиотеки

- выполнение повторяющихся операций

### Пакетный режим (1950-е годы)

Условие

- наличие очереди программ на исполнение

Обеспечение

- загрузки программы с внешних носителей данных в оперативную память до завершения предыдущей программы

### Разделение времени и многозадачность

Необходимость

- наличие очереди программ на исполнение
- наличие дисплея
- наличие клавиатурного ввода

Результат - многопользовательские системы

- один центральный процессор
- один блок оперативной памяти
- множество терминалов

Выполнение

- ввод данных - режим диалога
- вычисления - пакетный режим

### Разделение полномочий

Отсутствие

- изменения программы другой программой
- изменения самой системы прикладной программой

Архитектура процессора

- "реальный" режим работы процессора - (программе доступно всё адресное пространство компьютера)
- "защищённый" режим (программе доступен диапазон, выделенный при запуске программы на исполнение)

### Реальный масштаб времени

"Реальное время"

- синхронизации исполнения программ с внешними физическими процессами

Возможности системы

- обслуживание производственных процессов
- решение вычислительных задач

### Файловые системы

Причины возникновения - замена носителей

- с последовательным доступом (перфокарт)
- с произвольным доступом (на жестких дисках)

Определение

 - Файловая система - порядок, определяющий способ организации, хранения и именования данных на носителях информации в компьютерах

Определяет

- формат содержимого
- способ физического хранения информации
- размер имени файла
- максимальный возможный размер файла
- набор атрибутов файла

### Классификация компьютеров

Виды классификации

- по назначению
- по уровню специализации
- по размеру
- по совместимости

### Классификация производителей компьютеров

Виды

- Персональные компьютеры
  + настольные - Windows, Linux, Mac OS
  + переносные - Windows, Mac OS, Linux
  + наладонные - Linux, Mac OS, Windows
- Серверы - малые - Windows, Linux, Mac OS
- Серверы - большие - Linux, Mac OS, Windows
- Мэйнфреймы - UNIX, Linux
- Суперкомпьютеры - Linux, UNIX

### Литература

- Э. Таненбаум Современные операционные системы.
- Н. А. Олифер, В. Г. Олифер - Сетевые операционные системы
- Робачевский А.М. Операционная система Unix.
=======

